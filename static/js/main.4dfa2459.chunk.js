(this["webpackJsonppokeapi-test"]=this["webpackJsonppokeapi-test"]||[]).push([[0],{143:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(37),s=n.n(a),i=n(16),o=(n(71),n(170)),u=n(178),l=n(182),j=n(183),p=n(184),b=n(185),O=n(186),h=n(187),d=n(188),f=n(189),m=n(24),x=n(2),v=Object(o.a)({table:{minWidth:200}}),g=function(e){var t=e.pokemons,n=Object(m.c)((function(e){return e.main.loading})),c=v();return Object(x.jsx)(u.a,{item:!0,xs:12,sm:8,style:{width:"100%"},children:n?Object(x.jsx)("div",{style:{textAlign:"center",fontWeight:300,letterSpacing:1.4},children:"Loading..."}):Object(x.jsx)(l.a,{children:Object(x.jsx)(j.a,{component:p.a,style:{overflowX:"hidden"},children:Object(x.jsxs)(b.a,{className:c.table,"aria-label":"simple table",children:[Object(x.jsx)(O.a,{children:Object(x.jsxs)(h.a,{children:[Object(x.jsx)(d.a,{align:"center",children:Object(x.jsx)("b",{children:"Name"})}),Object(x.jsx)(d.a,{align:"center",children:Object(x.jsx)("b",{children:"Photo"})}),Object(x.jsx)(d.a,{align:"center",children:Object(x.jsx)("b",{children:"Type"})})]})}),Object(x.jsx)(f.a,{children:t.map((function(e){var t=e.sprites.other.dream_world.front_default;return Object(x.jsxs)(h.a,{className:"thumb-container ".concat(e.types[0].type.name),children:[Object(x.jsx)(d.a,{align:"center",scope:"row",children:e.name}),Object(x.jsx)(d.a,{align:"center",children:t?Object(x.jsx)("img",{src:t,alt:e.name}):Object(x.jsx)("div",{className:"emptyPhoto",children:"\u0424\u043e\u0442\u043e \u043e\u0442\u0441\u0443\u0441\u0442\u0432\u0443\u0435\u0442"})}),Object(x.jsx)(d.a,{align:"center",children:Object(x.jsx)("small",{children:e.types[0].type.name})})]},e.name)}))})]})})})})},k=n(15),P=n.n(k),S=n(25),N=n(18),E=n(93),T=n.n(E),_={setPokemonList:function(e,t){return T.a.get("https://pokeapi.co/api/v2/pokemon?limit=".concat(t,"&offset=").concat(e,".")).then((function(e){return e.data}))},setPokemon:function(e){return fetch("https://pokeapi.co/api/v2/pokemon/".concat(e))},setPokemonData:function(){var e=Object(S.a)(P.a.mark((function e(t){var n,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),sortType:function(e){return fetch("https://pokeapi.co/api/v2/type/".concat(e))}},w={pokemons:[],loading:!1,totalPage:0,pageCount:0,currentPage:2,limit:10},y=function(e,t){return{type:"SET_POKEMON_LIST",page:e,limit:t}},C=function(e){return{type:"SET_LOADING",loading:e}},L=function(e){return{type:"SET_POKEMON",pokemon:e}},A=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},M=function(e){return{type:"SET_TOTAL_COUNT",totalPage:e}},R=function(e){return{type:"SET-SEARCH",pokemon:e}},D=function(e){return function(){var t=Object(S.a)(P.a.mark((function t(n){var c,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(C(!0)),c=e.map(function(){var e=Object(S.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.setPokemonData(t.url);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=4,Promise.all(c);case 4:r=t.sent,n(L(r)),n(C(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=function(){return function(){var e=Object(S.a)(P.a.mark((function e(t,n){var c,r,a,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n().main,r=c.currentPage,a=c.limit,e.next=5,_.setPokemonList(r,a).then((function(e){return e}));case 5:s=e.sent,t(y(r,a)),t(M(s.count)),t(A(r)),t({type:"REMOVE_OLD_POKEMON"}),t(D(s.results));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},G=function(){var e=Object(S.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.setPokemon(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),I=n(177),K=n(32),U=n.n(K),W=n(95),B=n.n(W),z=n(96),V=n.n(z),H=function(e){for(var t=e.totalItemCounts,n=e.pageSize,r=e.onPageChanged,a=e.currentPage,s=void 0===a?1:a,o=e.portionSize,u=void 0===o?10:o,l=e.setPageCount,j=Math.ceil(t/n),p=[],b=1;b<=j;b++)p.push(b);var O=Math.ceil(j/u),h=Object(c.useState)(1),d=Object(i.a)(h,2),f=d[0],m=d[1],v=(f-1)*u+1,g=f*u;return Object(x.jsxs)("div",{className:U.a.wrap,children:[Object(x.jsxs)("div",{className:U.a.numbers,children:[f>1&&Object(x.jsx)(I.a,{className:U.a.arrow,onClick:function(){m(f-1)},children:Object(x.jsx)(B.a,{})}),p.filter((function(e){return e>=v&&e<=g})).map((function(e){return Object(x.jsx)(I.a,{className:s===e?U.a.active:U.a.numb,onClick:function(){r(e)},children:e},e)})),O>f&&Object(x.jsx)(I.a,{onClick:function(){m(f+1)},children:Object(x.jsx)(V.a,{})})]}),t>10?Object(x.jsxs)("div",{className:U.a.selectWrap,children:[Object(x.jsx)("span",{className:U.a.selectSpan,children:"Show"}),Object(x.jsxs)("select",{className:U.a.select,onChange:l,children:[Object(x.jsx)("option",{value:10,children:"10"}),Object(x.jsx)("option",{value:20,children:"20"}),Object(x.jsx)("option",{value:50,children:"50"})]}),Object(x.jsx)("span",{className:U.a.selectSpan,children:"Pokemons"})]}):""]})},J=n(179),q=n(176),X=(n(84),r.a.useState),Q=function(e){var t=e.onSearch,n=X(""),c=Object(i.a)(n,2),r=c[0],a=c[1],s=function(){var e=Object(S.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(r);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"searchbar-container",children:[Object(x.jsx)("div",{className:"searchbar",children:Object(x.jsx)(q.a,{placeholder:"Search pokemon...",onChange:function(e){a(e.target.value),0===e.target.value.length&&t(null)}})}),Object(x.jsx)("div",{children:Object(x.jsx)(J.a,{variant:"outlined",onClick:s,children:"Search"})})]})},Y=function(){var e=Object(m.b)();return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"searchBlockTag",children:[Object(x.jsx)("span",{children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0442\u0438\u043f\u0443: "}),Object(x.jsxs)("select",{onChange:function(t){var n;e((n=Number(t.currentTarget.value),function(){var e=Object(S.a)(P.a.mark((function e(t){var c,r,a,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(C(!0)),e.next=4,_.sortType(n).then((function(e){return e}));case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,a=r.pokemon.map((function(e){return Object(N.a)({},e.pokemon)})).map(function(){var e=Object(S.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.setPokemonData(t.url);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=11,Promise.all(a);case 11:s=e.sent,t(L(s)),t(A(0)),t(M(0)),t(C(!1)),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(0);case 20:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(x.jsx)("option",{value:1,children:"Normal"}),Object(x.jsx)("option",{value:2,children:"Fighting"}),Object(x.jsx)("option",{value:3,children:"Flying"}),Object(x.jsx)("option",{value:4,children:"Poison"}),Object(x.jsx)("option",{value:5,children:"Ground"}),Object(x.jsx)("option",{value:6,children:"Rock"}),Object(x.jsx)("option",{value:7,children:"Bug"}),Object(x.jsx)("option",{value:8,children:"Ghost"}),Object(x.jsx)("option",{value:9,children:"Steel"}),Object(x.jsx)("option",{value:10,children:"Fire"})]})]})})};var Z=function(){var e=Object(m.c)((function(e){return e.main.totalPage})),t=Object(m.c)((function(e){return e.main.currentPage})),n=Object(m.c)((function(e){return e.main.limit})),r=Object(m.c)((function(e){return e.main.pokemons})),a=Object(c.useState)(!1),s=Object(i.a)(a,2),o=s[0],u=s[1],l=Object(m.b)();return Object(c.useEffect)((function(){l(F())}),[l]),Object(x.jsxs)("div",{className:"AppContainer",children:[Object(x.jsx)("h2",{children:"Pokemon table"}),Object(x.jsxs)("div",{className:"searchBlock",children:[Object(x.jsx)(Q,{onSearch:function(e){l(function(e,t){return function(){var n=Object(S.a)(P.a.mark((function n(c){var r;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,c(C(!0)),e){n.next=4;break}return n.abrupt("return",c(F()));case 4:return t(!1),n.next=7,G(e);case 7:if(r=n.sent){n.next=13;break}return t(!0),n.abrupt("return");case 13:c(R([r])),c(A(0)),c(M(0));case 16:c(C(!1)),n.next=21;break;case 19:n.prev=19,n.t0=n.catch(0);case 21:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(e){return n.apply(this,arguments)}}()}(e,u)),u(!1)}}),Object(x.jsx)(Y,{})]}),o?Object(x.jsx)("div",{className:"not-found-text",children:"No se encontro el Pokemon que buscabas \ud83d\ude2d"}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g,{pokemons:r}),Object(x.jsx)(H,{currentPage:t,pageSize:n,totalItemCounts:e,setPageCount:function(e){l({type:"SET-PAGE-COUNT",newPageCount:Number(e.currentTarget.value)}),l(F())},onPageChanged:function(e){l(A(e)),l(F())}})]})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},ee=n(60),te=n(97),ne=Object(ee.b)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-PAGE-COUNT":return Object(N.a)(Object(N.a)({},e),{},{limit:t.newPageCount});case"SET_LOADING":return Object(N.a)(Object(N.a)({},e),{},{loading:t.loading});case"SET_POKEMON_LIST":return Object(N.a)(Object(N.a)({},e),{},{page:t.page,limit:t.limit});case"SET_POKEMON":case"SET-SEARCH":return Object(N.a)(Object(N.a)({},e),{},{pokemons:t.pokemon});case"REMOVE_OLD_POKEMON":return Object(N.a)(Object(N.a)({},e),{},{pokemons:[]});case"SET_CURRENT_PAGE":return Object(N.a)(Object(N.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_COUNT":return Object(N.a)(Object(N.a)({},e),{},{totalPage:t.totalPage});default:return e}}}),ce=Object(ee.c)(ne,Object(ee.a)(te.a)),re=n(99);s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(re.a,{children:Object(x.jsx)(m.a,{store:ce,children:Object(x.jsx)(Z,{})})})}),document.getElementById("root")),$()},32:function(e,t,n){e.exports={wrap:"Pagination_wrap__2WnCt",selectWrap:"Pagination_selectWrap__ce218",selectSpan:"Pagination_selectSpan__3u8gg",select:"Pagination_select__1V1-o"}},71:function(e,t,n){},84:function(e,t,n){}},[[143,1,2]]]);
//# sourceMappingURL=main.4dfa2459.chunk.js.map